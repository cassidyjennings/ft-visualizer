@import "tailwindcss";

/* -----------------------------
   Design tokens (Fourier's Playground)
   Palette:
   #000000 (black)
   #231c42 (indigo)
   #ab2a4c (dark rose)
   #dd3153 (rose)
   #f3e9dc (cream)
   #fcfaf7 (off-white)
-------------------------------- */
:root {
  /* Light mode */
  --bg: #ffffff;
  --fg: #231c42;

  --card: #f9f2eb;
  --muted: #fcfaf7;
  --border: #d5b385;
  --null: #808080; /* light neutral gray */

  --brand: #ab2a4c;
  --brand-2: #dd3153;
  --brand-3: #231c42;
  --brand-contrast: #fcfaf7;

  /* Controls / focus */
  --focus: #ab2a4c;
  --thumb: #dd3153;
  --track: #f3e9dc;
}

/* Dark mode */
:root.dark {
  --bg: #000000;
  --fg: #f3e9dc;

  --header: #000000;
  --card: #0e0b19;
  --muted: #231c42;
  --border: #231c42;
  --null: #808080;

  --brand: #ab2a4c;
  --brand-2: #dd3153;
  --brand-3: #231c42;
  --brand-contrast: #fcfaf7;

  --focus: #dd3153;
  --thumb: #f3e9dc;
  --track: #231c42;
}

/* Tailwind v4 theme tokens */
@theme inline {
  --color-bg: var(--bg);
  --color-fg: var(--fg);
  --color-card: var(--card);
  --color-muted: var(--muted);
  --color-border: var(--border);
  --color-null: var(--null);
  --color-brand: var(--brand);
  --color-brand-2: var(--brand-2);
  --color-brand-3: var(--brand-3);
  --color-brand-contrast: var(--brand-contrast);

  /* Fonts */
  --font-sans: var(--font-source-sans);
  --font-serif: var(--font-spectral);

  --font-mono:
    ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
    "Courier New", monospace;
}

/* -----------------------------
   Base defaults
-------------------------------- */
@layer base {
  html {
    scrollbar-gutter: stable;
  }

  body {
    @apply bg-bg text-fg font-sans;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-serif);
    font-weight: 500;
    letter-spacing: -0.01em;
  }

  input[type="range"] {
    accent-color: var(--brand);
  }

  :focus-visible {
    outline: 2px solid var(--focus);
    outline-offset: 2px;
  }
}

/* Fallback */
@supports not (scrollbar-gutter: stable) {
  html {
    overflow-y: scroll;
  }
}

/* -----------------------------
   Components
-------------------------------- */
@layer components {
  .arrow-btn {
    @apply rounded-xl border border-border bg-card/70 px-4 py-3
           font-semibold text-fg shadow-sm transition
           hover:bg-muted/60;
    clip-path: polygon(0% 0%, 85% 0%, 100% 50%, 85% 100%, 0% 100%, 8% 50%);
  }

  .arrow-btn--primary {
    @apply border-transparent bg-brand text-brand-contrast hover:bg-brand-2;
  }

  .icon-button {
    @apply rounded-lg p-2 text-fg/70 transition
           hover:text-fg hover:bg-muted/60;
  }

  .gray-slider {
    --thumb: var(--thumb);
    --track: var(--track);
    @apply w-full;
  }
}
/* -----------------------------
   Range input styling (theme + CSS var driven)
-------------------------------- */
.gray-slider {
  -webkit-appearance: none;
  appearance: none;
  background: transparent; /* important: track is styled via pseudo-elements */
}

/* Track — Chrome / Edge / Safari */
.gray-slider::-webkit-slider-runnable-track {
  height: 8px;
  border-radius: 9999px;
  background: var(--track);
}

/* Thumb — Chrome / Edge / Safari */
.gray-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 14px;
  height: 14px;
  border-radius: 9999px;
  background: var(--thumb);
  border: 2px solid color-mix(in srgb, var(--fg) 30%, transparent);
  margin-top: -3px; /* centers thumb on 8px track: (14-8)/2 = 3 */
}

/* Focus thumb outline — WebKit */
.gray-slider:focus-visible::-webkit-slider-thumb {
  outline: 2px solid color-mix(in srgb, var(--focus) 70%, transparent);
  outline-offset: 2px;
}

/* Track — Firefox */
.gray-slider::-moz-range-track {
  height: 8px;
  border-radius: 9999px;
  background: var(--track);
}

/* Thumb — Firefox */
.gray-slider::-moz-range-thumb {
  width: 14px;
  height: 14px;
  border-radius: 9999px;
  background: var(--thumb);
  border: 2px solid color-mix(in srgb, var(--fg) 30%, transparent);
}

/* Remove the weird Firefox focus outline */
.gray-slider::-moz-focus-outer {
  border: 0;
}
